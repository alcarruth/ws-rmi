// Generated by CoffeeScript 2.3.2
(function() {
  //!/bin/env/ coffee

  // ws_rmi_client.coffee

  var Stack, StackApp, Stack_Stub, WS_RMI_Client, WS_RMI_Stub, WebSocket, log,
    splice = [].splice;

  WebSocket = (typeof window !== "undefined" && window !== null ? window.WebSocket : void 0) || require('ws');

  log = function(msg) {
    return console.log(msg);
  };

  WS_RMI_Client = class WS_RMI_Client {
    constructor(url1) {
      this.connect = this.connect.bind(this);
      this.onOpen = this.onOpen.bind(this);
      this.onMessage = this.onMessage.bind(this);
      this.onClose = this.onClose.bind(this);
      this.onError = this.onError.bind(this);
      this.disconnect = this.disconnect.bind(this);
      this.register = this.register.bind(this);
      this.send_request = this.send_request.bind(this);
      this.handle_response = this.handle_response.bind(this);
      this.url = url1;
      this.registry = {};
      this.cnt = 0;
      this.cb_hash = {};
      this.stubs = [];
    }

    connect(url) {
      if (url) {
        this.url = url;
      }
      this.server = new WebSocket(this.url);
      this.server.onopen = this.onOpen;
      this.server.onmessage = this.onMessage;
      this.server.onclose = this.onClose;
      this.server.onerror = this.onError;
      return true;
    }

    onOpen(evt) {
      return log(`connected to rmi server at ${this.url}`);
    }

    onMessage(evt) {
      return this.handle_response(evt.data);
    }

    onClose(evt) {
      return log(`socket closed by server at ${this.url}`);
    }

    onError(evt) {}

    disconnect() {
      log(`disconnecting from server at ${this.url}`);
      return this.server.close();
    }

    register(stub) {
      this.stubs.push(stub);
      return stub.register(this);
    }

    send_request(obj_id, name, args, cb) {
      var cb_id, rmi_args;
      cb_id = this.cnt++;
      this.cb_hash[cb_id] = (cb != null) && cb || console.log;
      rmi_args = {
        obj_id: obj_id,
        name: name,
        args: args,
        cb_id: cb_id
      };
      return this.server.send(JSON.stringify(rmi_args));
    }

    handle_response(msg) {
      var cb_id, res;
      [cb_id, res] = JSON.parse(msg);
      this.cb_hash[cb_id](res);
      return delete this.cb_hash[cb_id];
    }

  };

  // RMI_Stub is a generic rmi client super class Using it involves
  // extending it and calling the static (class) method 'remote_methods'
  // with a list of the methods available on the remote object.  The
  // resulting methods are just stubs which call the 'invoke' method
  // (below) to contact the remote object server.

  WS_RMI_Stub = class WS_RMI_Stub {
    static add_stub(name) {
      return this.prototype[name] = function(...args) {
        var cb, ref;
        ref = args, [...args] = ref, [cb] = splice.call(args, -1);
        return this.invoke(name, args, cb);
      };
    }

    constructor(id) {
      this.register = this.register.bind(this);
      this.invoke = this.invoke.bind(this);
      this.id = id;
    }

    log_cb(err, res) {
      return console.log(res);
    }

    register(ws_rmi_client) {
      return this.ws_rmi_client = ws_rmi_client;
    }

    invoke(name, args, cb) {
      cb = cb || function() {};
      return this.ws_rmi_client.send_request(this.id, name, args, cb);
    }

  };

  if (typeof window !== "undefined" && window !== null) {
    window.ws_rmi = {
      WS_RMI_Client: WS_RMI_Client,
      WS_RMI_Stub: WS_RMI_Stub
    };
  } else {
    exports.WS_RMI_Client = WS_RMI_Client;
    exports.WS_RMI_Stub = WS_RMI_Stub;
  }

  
  // example_object.coffee
  WS_RMI_Stub = WS_RMI_Stub || require('./ws_rmi_client.coffee').WS_RMI_Stub;

  Stack = class Stack {
    // note that the object must have an id in order to
    // register and operate with the rmi server

    constructor(id) {
      this.push = this.push.bind(this);
      this.pop = this.pop.bind(this);
      this.id = id;
      this.stack = [];
    }

    push(x, cb) {
      this.stack.push(x);
      console.log(this.stack);
      return cb(true);
    }

    pop(cb) {
      cb(this.stack.pop());
      return console.log(this.stack);
    }

  };

  Stack_Stub = (function() {
    class Stack_Stub extends WS_RMI_Stub {};

    Stack_Stub.add_stub('push');

    Stack_Stub.add_stub('pop');

    return Stack_Stub;

  }).call(this);

  if (typeof window !== "undefined" && window !== null) {

  } else {
    exports.Stack = Stack;
    exports.Stack_Stub = Stack_Stub;
  }

  WS_RMI_Client = WS_RMI_Client || require('./ws_rmi_client.coffee').WS_RMI_Client;

  Stack_Stub = Stack_Stub || require('./example_object.coffee').Stack_Stub;

  StackApp = class StackApp {
    constructor(url1 = 'ws://localhost:8085') {
      this.connect = this.connect.bind(this);
      this.disconnect = this.disconnect.bind(this);
      this.def_cb = this.def_cb.bind(this);
      this.push = this.push.bind(this);
      this.pop = this.pop.bind(this);
      this.url = url1;
      this.client = new WS_RMI_Client(this.url);
      this.stack = new Stack_Stub('br549');
      this.client.register(this.stack);
    }

    connect() {
      return this.client.connect();
    }

    disconnect() {
      return this.client.disconnect();
    }

    def_cb(x) {
      return console.log([x]);
    }

    push(x, cb = this.def_cb) {
      return this.stack.push(x, cb);
    }

    pop(cb = this.def_cb) {
      return this.stack.pop(cb);
    }

  };

  if (typeof window !== "undefined" && window !== null) {
    window.app = new StackApp('wss://armazilla.net/wss/rmi_example');
  } else {
    exports.app = new StackApp('wss://armazilla.net/wss/rmi_example');
  }

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2ViX2NsaWVudC5qcyIsInNvdXJjZVJvb3QiOiIuLi8uLiIsInNvdXJjZXMiOlsiYnVpbGQvY29mZmVlL3dlYl9jbGllbnQuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTtFQUFBOzs7O0FBQUEsTUFBQSxLQUFBLEVBQUEsUUFBQSxFQUFBLFVBQUEsRUFBQSxhQUFBLEVBQUEsV0FBQSxFQUFBLFNBQUEsRUFBQSxHQUFBO0lBQUE7O0VBS0EsU0FBQSx1REFBWSxNQUFNLENBQUUsbUJBQVIsSUFBcUIsT0FBQSxDQUFRLElBQVI7O0VBRWpDLEdBQUEsR0FBTSxRQUFBLENBQUMsR0FBRCxDQUFBO1dBQ0osT0FBTyxDQUFDLEdBQVIsQ0FBWSxHQUFaO0VBREk7O0VBR0EsZ0JBQU4sTUFBQSxjQUFBO0lBRUUsV0FBYSxLQUFBLENBQUE7VUFNYixDQUFBLGNBQUEsQ0FBQTtVQVNBLENBQUEsYUFBQSxDQUFBO1VBR0EsQ0FBQSxnQkFBQSxDQUFBO1VBR0EsQ0FBQSxjQUFBLENBQUE7VUFHQSxDQUFBLGNBQUEsQ0FBQTtVQUVBLENBQUEsaUJBQUEsQ0FBQTtVQUlBLENBQUEsZUFBQSxDQUFBO1VBSUEsQ0FBQSxtQkFBQSxDQUFBO1VBTUEsQ0FBQSxzQkFBQSxDQUFBO01BeENjLElBQUMsQ0FBQTtNQUNiLElBQUMsQ0FBQSxRQUFELEdBQVksQ0FBQTtNQUNaLElBQUMsQ0FBQSxHQUFELEdBQU87TUFDUCxJQUFDLENBQUEsT0FBRCxHQUFXLENBQUE7TUFDWCxJQUFDLENBQUEsS0FBRCxHQUFTO0lBSkU7O0lBTWIsT0FBUyxDQUFDLEdBQUQsQ0FBQTtNQUNQLElBQWMsR0FBZDtRQUFBLElBQUMsQ0FBQSxHQUFELEdBQU8sSUFBUDs7TUFDQSxJQUFDLENBQUEsTUFBRCxHQUFVLElBQUksU0FBSixDQUFjLElBQUMsQ0FBQSxHQUFmO01BQ1YsSUFBQyxDQUFBLE1BQU0sQ0FBQyxNQUFSLEdBQWlCLElBQUMsQ0FBQTtNQUNsQixJQUFDLENBQUEsTUFBTSxDQUFD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dXJjZXNDb250ZW50IjpbIiMhL2Jpbi9lbnYvIGNvZmZlZVxuI1xuIyB3c19ybWlfY2xpZW50LmNvZmZlZVxuI1xuXG5XZWJTb2NrZXQgPSB3aW5kb3c/LldlYlNvY2tldCB8fCByZXF1aXJlKCd3cycpXG5cbmxvZyA9IChtc2cpIC0+XG4gIGNvbnNvbGUubG9nKG1zZylcblxuY2xhc3MgV1NfUk1JX0NsaWVudFxuXG4gIGNvbnN0cnVjdG9yOiAoQHVybCkgLT5cbiAgICBAcmVnaXN0cnkgPSB7fVxuICAgIEBjbnQgPSAwXG4gICAgQGNiX2hhc2ggPSB7fVxuICAgIEBzdHVicyA9IFtdXG5cbiAgY29ubmVjdDogKHVybCkgPT5cbiAgICBAdXJsID0gdXJsIGlmIHVybFxuICAgIEBzZXJ2ZXIgPSBuZXcgV2ViU29ja2V0KEB1cmwpXG4gICAgQHNlcnZlci5vbm9wZW4gPSBAb25PcGVuXG4gICAgQHNlcnZlci5vbm1lc3NhZ2UgPSBAb25NZXNzYWdlXG4gICAgQHNlcnZlci5vbmNsb3NlID0gQG9uQ2xvc2VcbiAgICBAc2VydmVyLm9uZXJyb3IgPSBAb25FcnJvclxuICAgIHRydWVcblxuICBvbk9wZW46IChldnQpID0+XG4gICAgbG9nKFwiY29ubmVjdGVkIHRvIHJtaSBzZXJ2ZXIgYXQgI3tAdXJsfVwiKVxuXG4gIG9uTWVzc2FnZTogKGV2dCkgPT5cbiAgICBAaGFuZGxlX3Jlc3BvbnNlKGV2dC5kYXRhKVxuXG4gIG9uQ2xvc2U6IChldnQpID0+XG4gICAgbG9nKFwic29ja2V0IGNsb3NlZCBieSBzZXJ2ZXIgYXQgI3tAdXJsfVwiKVxuXG4gIG9uRXJyb3I6IChldnQpID0+XG5cbiAgZGlzY29ubmVjdDogPT5cbiAgICBsb2coXCJkaXNjb25uZWN0aW5nIGZyb20gc2VydmVyIGF0ICN7QHVybH1cIilcbiAgICBAc2VydmVyLmNsb3NlKClcblxuICByZWdpc3RlcjogKHN0dWIpID0+XG4gICAgQHN0dWJzLnB1c2goc3R1YilcbiAgICBzdHViLnJlZ2lzdGVyKHRoaXMpXG5cbiAgc2VuZF9yZXF1ZXN0OiAob2JqX2lkLCBuYW1lLCBhcmdzLCBjYikgPT5cbiAgICBjYl9pZCA9IEBjbnQrK1xuICAgIEBjYl9oYXNoW2NiX2lkXSA9IGNiPyAmJiBjYiB8fCBjb25zb2xlLmxvZ1xuICAgIHJtaV9hcmdzID0geyBvYmpfaWQ6IG9ial9pZCwgbmFtZTogbmFtZSwgYXJnczogYXJncywgY2JfaWQ6IGNiX2lkIH1cbiAgICBAc2VydmVyLnNlbmQoIEpTT04uc3RyaW5naWZ5KHJtaV9hcmdzKSlcblxuICBoYW5kbGVfcmVzcG9uc2U6IChtc2cpID0+XG4gICAgW2NiX2lkLCByZXNdID0gSlNPTi5wYXJzZShtc2cpXG4gICAgQGNiX2hhc2hbY2JfaWRdKHJlcylcbiAgICBkZWxldGUgQGNiX2hhc2hbY2JfaWRdXG5cblxuIyBSTUlfU3R1YiBpcyBhIGdlbmVyaWMgcm1pIGNsaWVudCBzdXBlciBjbGFzcyBVc2luZyBpdCBpbnZvbHZlc1xuIyBleHRlbmRpbmcgaXQgYW5kIGNhbGxpbmcgdGhlIHN0YXRpYyAoY2xhc3MpIG1ldGhvZCAncmVtb3RlX21ldGhvZHMnXG4jIHdpdGggYSBsaXN0IG9mIHRoZSBtZXRob2RzIGF2YWlsYWJsZSBvbiB0aGUgcmVtb3RlIG9iamVjdC4gIFRoZVxuIyByZXN1bHRpbmcgbWV0aG9kcyBhcmUganVzdCBzdHVicyB3aGljaCBjYWxsIHRoZSAnaW52b2tlJyBtZXRob2RcbiMgKGJlbG93KSB0byBjb250YWN0IHRoZSByZW1vdGUgb2JqZWN0IHNlcnZlci5cbiNcbmNsYXNzIFdTX1JNSV9TdHViXG5cbiAgQGFkZF9zdHViID0gKG5hbWUpIC0+XG4gICAgQDo6W25hbWVdID0gKGFyZ3MuLi4sIGNiKSAtPlxuICAgICAgQGludm9rZShuYW1lLCBhcmdzLCBjYilcblxuICBjb25zdHJ1Y3RvcjogKEBpZCkgLT5cblxuICBsb2dfY2I6IChlcnIsIHJlcykgLT5cbiAgICBjb25zb2xlLmxvZyhyZXMpXG5cbiAgcmVnaXN0ZXI6ICh3c19ybWlfY2xpZW50KSA9PlxuICAgIEB3c19ybWlfY2xpZW50ID0gd3Nfcm1pX2NsaWVudFxuXG4gIGludm9rZTogKG5hbWUsIGFyZ3MsIGNiKSA9PlxuICAgIGNiID0gY2IgfHwgLT5cbiAgICBAd3Nfcm1pX2NsaWVudC5zZW5kX3JlcXVlc3QoQGlkLCBuYW1lLCBhcmdzLCBjYilcblxuaWYgd2luZG93P1xuICB3aW5kb3cud3Nfcm1pID1cbiAgICBXU19STUlfQ2xpZW50OiBXU19STUlfQ2xpZW50XG4gICAgV1NfUk1JX1N0dWI6IFdTX1JNSV9TdHViXG5lbHNlXG4gIGV4cG9ydHMuV1NfUk1JX0NsaWVudCA9IFdTX1JNSV9DbGllbnRcbiAgZXhwb3J0cy5XU19STUlfU3R1YiA9IFdTX1JNSV9TdHViXG4jXG4jIGV4YW1wbGVfb2JqZWN0LmNvZmZlZVxuXG5cbldTX1JNSV9TdHViID0gV1NfUk1JX1N0dWIgfHwgcmVxdWlyZSgnLi93c19ybWlfY2xpZW50LmNvZmZlZScpLldTX1JNSV9TdHViXG5cbmNsYXNzIFN0YWNrXG5cbiAgIyBub3RlIHRoYXQgdGhlIG9iamVjdCBtdXN0IGhhdmUgYW4gaWQgaW4gb3JkZXIgdG9cbiAgIyByZWdpc3RlciBhbmQgb3BlcmF0ZSB3aXRoIHRoZSBybWkgc2VydmVyXG4gICNcbiAgY29uc3RydWN0b3I6IChAaWQpIC0+XG4gICAgQHN0YWNrID0gW11cblxuICBwdXNoOiAoeCwgY2IpID0+XG4gICAgQHN0YWNrLnB1c2goeClcbiAgICBjb25zb2xlLmxvZyBAc3RhY2tcbiAgICBjYih0cnVlKVxuXG4gIHBvcDogKGNiKSA9PlxuICAgIGNiKCBAc3RhY2sucG9wKCkpXG4gICAgY29uc29sZS5sb2cgQHN0YWNrXG5cblxuY2xhc3MgU3RhY2tfU3R1YiBleHRlbmRzIFdTX1JNSV9TdHViXG5cbiAgQGFkZF9zdHViKCdwdXNoJylcbiAgQGFkZF9zdHViKCdwb3AnKVxuXG5pZiB3aW5kb3c/XG5lbHNlXG4gIGV4cG9ydHMuU3RhY2sgPSBTdGFja1xuICBleHBvcnRzLlN0YWNrX1N0dWIgPSBTdGFja19TdHViXG5cblxuV1NfUk1JX0NsaWVudCA9IFdTX1JNSV9DbGllbnQgfHwgcmVxdWlyZSgnLi93c19ybWlfY2xpZW50LmNvZmZlZScpLldTX1JNSV9DbGllbnRcblN0YWNrX1N0dWIgPSBTdGFja19TdHViIHx8IHJlcXVpcmUoJy4vZXhhbXBsZV9vYmplY3QuY29mZmVlJykuU3RhY2tfU3R1YlxuXG5cbmNsYXNzIFN0YWNrQXBwXG5cbiAgY29uc3RydWN0b3I6IChAdXJsID0gJ3dzOi8vbG9jYWxob3N0OjgwODUnKSAtPlxuICAgIEBjbGllbnQgPSBuZXcgV1NfUk1JX0NsaWVudChAdXJsKVxuICAgIEBzdGFjayA9IG5ldyBTdGFja19TdHViKCdicjU0OScpXG4gICAgQGNsaWVudC5yZWdpc3RlcihAc3RhY2spXG5cbiAgY29ubmVjdDogPT5cbiAgICBAY2xpZW50LmNvbm5lY3QoKVxuXG4gIGRpc2Nvbm5lY3Q6ID0+XG4gICAgQGNsaWVudC5kaXNjb25uZWN0KClcblxuICBkZWZfY2I6ICh4KSA9PlxuICAgIGNvbnNvbGUubG9nKFt4XSlcblxuICBwdXNoOiAoeCwgY2IgPSBAZGVmX2NiKSA9PlxuICAgIEBzdGFjay5wdXNoKHgsIGNiKVxuXG4gIHBvcDogKGNiID0gQGRlZl9jYikgPT5cbiAgICBAc3RhY2sucG9wKGNiKVxuXG5cblxuaWYgd2luZG93P1xuICB3aW5kb3cuYXBwID0gbmV3IFN0YWNrQXBwKCd3c3M6Ly9hcm1hemlsbGEubmV0L3dzcy9ybWlfZXhhbXBsZScpXG5lbHNlXG4gIGV4cG9ydHMuYXBwID0gbmV3IFN0YWNrQXBwKCd3c3M6Ly9hcm1hemlsbGEubmV0L3dzcy9ybWlfZXhhbXBsZScpXG4iXX0=
//# sourceURL=/home/carruth/git/ws_rmi/build/coffee/web_client.coffee